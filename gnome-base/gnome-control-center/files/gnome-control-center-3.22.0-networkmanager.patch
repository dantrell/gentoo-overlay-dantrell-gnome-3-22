diff '--exclude=.git' -urN a/configure.ac b/configure.ac
--- a/configure.ac	2016-09-20 04:54:37.000000000 -0400
+++ b/configure.ac	2016-09-27 23:57:28.533210948 -0400
@@ -190,24 +190,40 @@
 	fi
 fi
 
-PKG_CHECK_MODULES(NETWORK_MANAGER,
-                  libnm >= $NETWORK_MANAGER_REQUIRED_VERSION
-                  libnma >= $NETWORK_MANAGER_APPLET_REQUIRED_VERSION
-                  mm-glib >= $MODEM_MANAGER_REQUIRED_VERSION,
-                  [have_networkmanager=yes], have_networkmanager=no)
-if test "x$have_networkmanager" = xno ; then
-        AC_MSG_WARN(*** Network panel will not be built (NetworkManager or ModemManager not found) ***)
-else
-	AC_DEFINE(BUILD_NETWORK, 1, [Define to 1 to build the Network panel])
-fi
-AM_CONDITIONAL(BUILD_NETWORK, [test x$have_networkmanager = xyes])
-if test x${have_networkmanager} = xyes; then
-  AC_DEFINE(HAVE_NETWORK_MANAGER, 1, [Define to 1 if NetworkManager is available])
-  NM_VPN_CONFIG_DIR=`$PKG_CONFIG --variable configdir NetworkManager`/VPN
-  NM_VPN_MODULE_DIR=`$PKG_CONFIG --variable plugindir NetworkManager`
-  AC_SUBST(NM_VPN_CONFIG_DIR)
-  AC_SUBST(NM_VPN_MODULE_DIR)
-fi
+AC_ARG_ENABLE([networkmanager],
+              AS_HELP_STRING([--disable-networkmanager], [Disable network panel]),
+              [], [enable_networkmanager=auto])
+AS_IF([test "$enable_networkmanager" != "no"],
+      [
+        PKG_CHECK_MODULES(NETWORK_MANAGER, NetworkManager >= $NETWORK_MANAGER_REQUIRED_VERSION
+                          libnm-glib >= $NETWORK_MANAGER_REQUIRED_VERSION
+                          libnm-glib-vpn >= $NETWORK_MANAGER_REQUIRED_VERSION
+                          libnm-util >= $NETWORK_MANAGER_REQUIRED_VERSION
+                          libnm-gtk >= $NETWORK_MANAGER_APPLET_REQUIRED_VERSION
+                          mm-glib >= $MODEM_MANAGER_REQUIRED_VERSION,
+                          [have_networkmanager=yes], have_networkmanager=no)
+
+        AS_IF([test "$have_networkmanager" = "no"],
+              [
+                AC_MSG_WARN([*** Network panel will not be built (NetworkManager or ModemManager not found) ***])
+              ], [
+                AC_DEFINE(BUILD_NETWORK, 1, [Define to 1 to build the Network panel])
+                AC_DEFINE(HAVE_NETWORK_MANAGER, 1, [Define to 1 if NetworkManager is available])
+                NM_VPN_CONFIG_DIR=`$PKG_CONFIG --variable configdir NetworkManager`/VPN
+                NM_VPN_MODULE_DIR=`$PKG_CONFIG --variable plugindir NetworkManager`
+                AC_SUBST([NM_VPN_CONFIG_DIR])
+                AC_SUBST([NM_VPN_MODULE_DIR])
+              ])
+
+        # Work-around for https://bugzilla.gnome.org/show_bug.cgi?id=723769
+        PKG_CHECK_MODULES(NM_UNSTABLE_CHECK, [libnm-util >= 0.9.9.0],
+                          [
+                            nm_unstable=yes
+                            AC_DEFINE(HAVE_NM_UNSTABLE, 1, [Define to 1 if NetworkManager is available])
+                          ],
+                          [nm_unstable=no])
+      ])
+AM_CONDITIONAL(BUILD_NETWORK, [test "$have_networkmanager" = "yes"])
 
 # Check for power panel
 if test x${have_networkmanager} = xyes; then
